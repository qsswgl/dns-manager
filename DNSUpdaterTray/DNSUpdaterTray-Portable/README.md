# DNS自动更新器 - 便携版 v1.2

## ⭐ 新功能特性
- ☕ 独特的咖啡杯托盘图标，从网络自动下载
- 🔄 自动检测IP变化并更新DNS记录  
- ⚙️ 图形化设置界面，配置简单直观
- 💾 配置自动保存到本地，下次启动自动加载
- 🖥️ 系统托盘运行，支持开机自启动
- 🔧 **内置网络诊断工具**，快速排查连接问题
- 📊 详细的状态显示和错误反馈

## 📁 文件说明
- **DNSUpdaterTray.exe** - 主程序（自包含.NET 8.0运行时）
- **appsettings.json** - 默认配置文件
- **install-startup.ps1** - 一键安装到系统并设置开机启动
- **uninstall-startup.ps1** - 卸载开机启动设置
- 其他DLL文件 - .NET运行时组件（无需单独安装.NET）

## 🚀 快速使用
1. **直接运行**: 双击 `DNSUpdaterTray.exe`，程序会最小化到系统托盘
2. **设置配置**: 右键托盘☕图标 → "设置"，配置DNS参数
3. **开机启动**: 右键管理员运行 `install-startup.ps1`

## 🔧 故障排查
如果遇到以下问题：
- ❌ HTTP错误 InternalServerError
- ❌ 网络连接失败
- ❌ API调用异常

**解决方法**: 右键托盘图标选择 **"网络诊断"**，查看详细的诊断报告：
- 网络连接测试
- API端点验证  
- DNS解析检查
- SSL证书验证
- 配置文件状态

## ⚙️ 配置说明
程序会在两个位置查找配置：
1. **默认配置**: `appsettings.json`（程序目录）
2. **用户配置**: `%AppData%\DNSUpdaterTray\user-config.json`（用户自定义）

用户配置会覆盖默认配置，确保升级时不丢失个人设置。

## 💻 技术规格
- **系统要求**: Windows 10/11 (64位)
- **程序大小**: ~162MB（包含完整.NET运行时）
- **内存占用**: ~20-30MB
- **网络要求**: 需要访问DNS API服务器

## 🐛 常见问题
**Q: 为什么程序这么大？**
A: 为了避免.NET运行时依赖问题，程序采用自包含方式发布。

**Q: 如何卸载？**
A: 运行 `uninstall-startup.ps1` 后，直接删除整个文件夹即可。

**Q: 配置文件在哪里？**
A: 用户配置保存在 `%AppData%\DNSUpdaterTray\user-config.json`

---
📅 **更新时间**: 2025年10月16日  
🏷️ **版本**: v1.2 (增强诊断版)  
👨‍💻 **开发**: DNS自动化管理系统