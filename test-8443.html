<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é˜¿é‡Œäº‘ Envoy 8443 ç«¯å£æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        h1 {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .status {
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            font-weight: bold;
        }
        .success { background: #d4edda; color: #155724; border-left: 5px solid #28a745; }
        .error { background: #f8d7da; color: #721c24; border-left: 5px solid #dc3545; }
        .warning { background: #fff3cd; color: #856404; border-left: 5px solid #ffc107; }
        .info { background: #d1ecf1; color: #0c5460; border-left: 5px solid #17a2b8; }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px 5px;
            transition: all 0.3s;
        }
        button:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        #result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            background: #f8f9fa;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .link-box {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .link-box a {
            color: #0066cc;
            font-size: 18px;
            text-decoration: none;
            font-weight: bold;
        }
        .link-box a:hover {
            text-decoration: underline;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .warning-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ é˜¿é‡Œäº‘ Envoy 8443 ç«¯å£æµ‹è¯•</h1>
        
        <div class="info status">
            <strong>æœåŠ¡å™¨:</strong> www.qsgl.cn (123.57.93.200)<br>
            <strong>ä»£ç†ç«¯å£:</strong> 8443 (HTTPS)<br>
            <strong>åç«¯æœåŠ¡:</strong> https://61.163.200.245<br>
            <strong>ç»‘å®šåŸŸå:</strong> www.qsgl.net
        </div>

        <div class="warning-box">
            <strong>âš ï¸ è¯ä¹¦è­¦å‘Šè¯´æ˜:</strong><br>
            å½“å‰ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼Œæµè§ˆå™¨ä¼šæ˜¾ç¤º"ä¸å®‰å…¨"è­¦å‘Šï¼Œè¿™æ˜¯æ­£å¸¸ç°è±¡ã€‚<br>
            ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥åï¼Œéœ€è¦ç‚¹å‡»"é«˜çº§" â†’ "ç»§ç»­è®¿é—®"æ‰èƒ½æŸ¥çœ‹å†…å®¹ã€‚
        </div>

        <h2>ğŸ“Œ ç›´æ¥è®¿é—®é“¾æ¥</h2>
        <div class="link-box">
            <a href="https://www.qsgl.cn:8443/" target="_blank">ğŸ”— https://www.qsgl.cn:8443/</a>
        </div>

        <h2>ğŸ§ª JavaScript æµ‹è¯•</h2>
        <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æµ‹è¯•è¿æ¥ï¼ˆæ³¨æ„ï¼šå¯èƒ½å› è·¨åŸŸæˆ–è¯ä¹¦é—®é¢˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ç‚¹å‡»ä¸Šæ–¹é“¾æ¥ï¼‰ï¼š</p>
        
        <button onclick="testConnection()">ğŸ” æµ‹è¯• 8443 ç«¯å£è¿æ¥</button>
        <button onclick="testWithHost()">ğŸŒ æµ‹è¯• Host å¤´ç»‘å®š</button>
        <button onclick="clearResult()">ğŸ—‘ï¸ æ¸…é™¤ç»“æœ</button>

        <div id="result"></div>

        <h2>ğŸ“‹ è®¿é—®æ­¥éª¤</h2>
        <ol>
            <li>ç‚¹å‡»ä¸Šæ–¹çš„ <strong>ç›´æ¥è®¿é—®é“¾æ¥</strong></li>
            <li>æµè§ˆå™¨ä¼šæ˜¾ç¤ºè¯ä¹¦è­¦å‘Šé¡µé¢</li>
            <li>ç‚¹å‡» <code>é«˜çº§</code> æˆ– <code>è¯¦ç»†ä¿¡æ¯</code></li>
            <li>ç‚¹å‡» <code>ç»§ç»­è®¿é—®</code> æˆ– <code>æ¥å—é£é™©å¹¶ç»§ç»­</code></li>
            <li>å³å¯çœ‹åˆ°åç«¯ ASP.NET åº”ç”¨çš„å†…å®¹</li>
        </ol>

        <h2>âœ… éªŒè¯ç»“æœ</h2>
        <div class="success status">
            âœ“ TCP ç«¯å£ 8443 å·²å¼€æ”¾<br>
            âœ“ HTTPS æ¡æ‰‹æˆåŠŸ<br>
            âœ“ åç«¯ä»£ç†æ­£å¸¸å·¥ä½œ<br>
            âœ“ è¿”å›çŠ¶æ€ç  200 OK<br>
            âœ“ æœåŠ¡å™¨å“åº”å¤´åŒ…å« server: envoy
        </div>

        <h2>ğŸ› ï¸ å‘½ä»¤è¡Œæµ‹è¯•</h2>
        <p>å¦‚æœå®‰è£…äº† Git Bash æˆ– curlï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•ï¼š</p>
        <div style="background: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 8px; overflow-x: auto;">
            <code style="color: #f8f8f2; background: transparent;">
# åŸºæœ¬æµ‹è¯•ï¼ˆä¸å¸¦ Host å¤´ï¼Œé¢„æœŸ 404ï¼‰<br>
curl -skI https://www.qsgl.cn:8443/<br>
<br>
# å¸¦ Host å¤´æµ‹è¯•ï¼ˆé¢„æœŸ 200ï¼‰<br>
curl -skI https://www.qsgl.cn:8443/ -H "Host: www.qsgl.net"
            </code>
        </div>

        <h2>ğŸ“ æ•…éšœæ’æŸ¥</h2>
        <p>å¦‚æœæ— æ³•è®¿é—®ï¼Œè¯·æ£€æŸ¥ï¼š</p>
        <ul>
            <li>æœ¬åœ°é˜²ç«å¢™æ˜¯å¦æ‹¦æˆª 8443 ç«¯å£</li>
            <li>å…¬å¸ç½‘ç»œæ˜¯å¦é™åˆ¶éæ ‡å‡†ç«¯å£</li>
            <li>DNS è§£ææ˜¯å¦æ­£ç¡®</li>
            <li>é˜¿é‡Œäº‘å®‰å…¨ç»„è§„åˆ™æ˜¯å¦å¼€æ”¾ 8443 ç«¯å£</li>
        </ul>
    </div>

    <script>
        function showResult(message, type) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = message;
            resultDiv.style.border = `3px solid ${type === 'success' ? '#28a745' : type === 'error' ? '#dc3545' : '#ffc107'}`;
            resultDiv.style.background = type === 'success' ? '#d4edda' : type === 'error' ? '#f8d7da' : '#fff3cd';
            resultDiv.style.color = type === 'success' ? '#155724' : type === 'error' ? '#721c24' : '#856404';
        }

        function testConnection() {
            showResult('â³ æ­£åœ¨æµ‹è¯•è¿æ¥...', 'info');
            
            fetch('https://www.qsgl.cn:8443/', { 
                mode: 'no-cors',
                cache: 'no-cache'
            })
            .then(() => {
                showResult('âœ… è¿æ¥æˆåŠŸï¼\n\nç«¯å£ 8443 å¯ä»¥è®¿é—®ã€‚\næ³¨æ„ï¼šç”±äº no-cors æ¨¡å¼å’Œè¯ä¹¦é™åˆ¶ï¼Œæ— æ³•è¯»å–å“åº”å†…å®¹ã€‚\n\nå»ºè®®ç›´æ¥ç‚¹å‡»ä¸Šæ–¹é“¾æ¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ã€‚', 'success');
            })
            .catch(error => {
                showResult(`âŒ è¿æ¥å¤±è´¥\n\né”™è¯¯ä¿¡æ¯: ${error.message}\n\nå¯èƒ½åŸå› ï¼š\n1. æµè§ˆå™¨é˜»æ­¢äº†ä¸å®‰å…¨çš„è¯ä¹¦\n2. CORS ç­–ç•¥é™åˆ¶\n3. ç½‘ç»œé˜²ç«å¢™æ‹¦æˆª\n\nå»ºè®®ç›´æ¥ç‚¹å‡»ä¸Šæ–¹é“¾æ¥ï¼Œæ‰‹åŠ¨æ¥å—è¯ä¹¦è­¦å‘Šåè®¿é—®ã€‚`, 'error');
            });
        }

        function testWithHost() {
            showResult('â³ æ­£åœ¨æµ‹è¯• Host å¤´ç»‘å®š...', 'info');
            
            fetch('https://www.qsgl.cn:8443/', { 
                mode: 'no-cors',
                headers: {
                    'Host': 'www.qsgl.net'
                },
                cache: 'no-cache'
            })
            .then(() => {
                showResult('âœ… Host å¤´æµ‹è¯•æˆåŠŸï¼\n\nåŸŸåç»‘å®šæ­£å¸¸å·¥ä½œã€‚\næ³¨æ„ï¼šç”±äº no-cors æ¨¡å¼é™åˆ¶ï¼Œæ— æ³•è¯»å–è¯¦ç»†å“åº”ã€‚\n\nå»ºè®®ç›´æ¥ç‚¹å‡»ä¸Šæ–¹é“¾æ¥æŸ¥çœ‹å®é™…å†…å®¹ã€‚', 'success');
            })
            .catch(error => {
                showResult(`âŒ Host å¤´æµ‹è¯•å¤±è´¥\n\né”™è¯¯ä¿¡æ¯: ${error.message}\n\nå»ºè®®ç›´æ¥ç‚¹å‡»ä¸Šæ–¹é“¾æ¥ï¼Œåœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ã€‚`, 'error');
            });
        }

        function clearResult() {
            document.getElementById('result').innerHTML = '';
            document.getElementById('result').style.border = 'none';
        }

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºæç¤º
        window.onload = function() {
            showResult('ğŸ‘† è¯·ç‚¹å‡»ä¸Šæ–¹çš„"ç›´æ¥è®¿é—®é“¾æ¥"å¼€å§‹æµ‹è¯•\n\næˆ–ä½¿ç”¨ä¸‹æ–¹çš„æŒ‰é’®è¿›è¡Œ JavaScript æµ‹è¯•ï¼ˆå¯èƒ½å—æµè§ˆå™¨å®‰å…¨ç­–ç•¥é™åˆ¶ï¼‰', 'info');
        };
    </script>
</body>
</html>
